import{g as d,u as S,h as P,r as O,x as f,q as r,l as m,j as n,k as u,S as x,_hW as l}from"./q-WPPUufUs.js";import{_ as a}from"./q-D3NSFh3l.js";import{u as L,H as h,a as I}from"./q-C7MyjNyl.js";import{S as E}from"./q-Dd--VZEr.js";import{u as R}from"./q-CgExMhl9.js";const j=({track:t,cleanup:e})=>{const[i,s]=d();t(()=>i.isListboxOpenSig.value),i.isListboxOpenSig.value&&window.addEventListener("pointerdown",s),e(()=>{window.removeEventListener("pointerdown",s)})},T=Object.freeze(Object.defineProperty({__proto__:null,_hW:l,s_Ih1wAD5M8iI:j},Symbol.toStringTag,{value:"Module"})),w=()=>{const[t]=d();t.value=!1},D=Object.freeze(Object.defineProperty({__proto__:null,_hW:l,s_UT6021Sgajg:w},Symbol.toStringTag,{value:"Module"})),M=async({track:t})=>{const[e,i,s]=d();t(()=>e.isListboxOpenSig.value),i.value||(e.isListboxOpenSig.value?s.showPopover():s.hidePopover())},y=Object.freeze(Object.defineProperty({__proto__:null,_hW:l,s_0tVDIwd6LLI:M},Symbol.toStringTag,{value:"Module"})),K=t=>{const e=S(E),i=L(e.localId),s={context:e,givenContextRef:e.popoverRef},g=R(t.ref,s),c=P(t,["floating","flip","hover","gutter"]),_=O(!0);f(r(()=>a(()=>Promise.resolve().then(()=>y),void 0),"s_0tVDIwd6LLI",[e,_,i]));const p=`${e.localId}-panel`,b=`${e.localId}-trigger`;return f(r(()=>a(()=>Promise.resolve().then(()=>T),void 0),"s_Ih1wAD5M8iI",[e,r(()=>a(()=>Promise.resolve().then(()=>A),void 0),"s_dEsbfRgzNvQ",[e,r(()=>a(()=>Promise.resolve().then(()=>V),void 0),"s_aQqX8pxOaP0")])])),f(r(()=>a(()=>Promise.resolve().then(()=>D),void 0),"s_UT6021Sgajg",[_])),m(I,{get floating(){return t.floating},get flip(){return t.flip},get hover(){return t.hover},get gutter(){return t.gutter},get"bind:anchor"(){return t["bind:anchor"]??e.triggerRef},"bind:panel":g,manual:!0,get id(){return e.localId},children:m(h,{id:p,get"data-open"(){return e.isListboxOpenSig.value?"":void 0},get"data-closed"(){return e.isListboxOpenSig.value?void 0:""},get"data-invalid"(){var o;return(o=e.isInvalidSig)!=null&&o.value?"":void 0},role:"listbox",get"aria-expanded"(){return e.isListboxOpenSig.value?"true":void 0},get"aria-multiselectable"(){return e.multiple?"true":void 0},"aria-labelledby":b,onMouseEnter$:[r(()=>a(()=>Promise.resolve().then(()=>k),void 0),"s_LQTIAO0ezPg",[e]),t.onMouseEnter$],...c,children:m(x,null,3,"Eq_0"),[u]:{"data-open":n(o=>o.isListboxOpenSig.value?"":void 0,[e]),"data-closed":n(o=>o.isListboxOpenSig.value?void 0:"",[e]),"data-invalid":n(o=>{var v;return(v=o.isInvalidSig)!=null&&v.value?"":void 0},[e]),role:u,"aria-expanded":n(o=>o.isListboxOpenSig.value?"true":void 0,[e]),"aria-multiselectable":n(o=>o.multiple?"true":void 0,[e])}},0,"Eq_1"),[u]:{floating:n(o=>o.floating,[t]),flip:n(o=>o.flip,[t]),hover:n(o=>o.hover,[t]),gutter:n(o=>o.gutter,[t]),"bind:anchor":n((o,v)=>v["bind:anchor"]??o.triggerRef,[e,t]),"bind:panel":u,manual:u,id:n(o=>o.localId,[e])}},1,"Eq_2")},q=async t=>{const[e,i]=d();if(!e.isListboxOpenSig.value||!e.popoverRef.value||!e.triggerRef.value)return;const s=e.popoverRef.value.getBoundingClientRect(),g=e.triggerRef.value.getBoundingClientRect(),{clientX:c,clientY:_}=t,p=await i(s,c,_),b=await i(g,c,_);p&&b&&(e.isListboxOpenSig.value=!1)},A=Object.freeze(Object.defineProperty({__proto__:null,_hW:l,s_dEsbfRgzNvQ:q},Symbol.toStringTag,{value:"Module"})),z=()=>{const[t]=d();t.isKeyboardFocusSig.value=!1,t.isMouseOverPopupSig.value=!0},k=Object.freeze(Object.defineProperty({__proto__:null,_hW:l,s_LQTIAO0ezPg:z},Symbol.toStringTag,{value:"Module"})),Q=(t,e,i)=>e<t.left||e>t.right||i<t.top||i>t.bottom,V=Object.freeze(Object.defineProperty({__proto__:null,_hW:l,s_aQqX8pxOaP0:Q},Symbol.toStringTag,{value:"Module"}));export{l as _hW,M as a,K as b,q as c,z as d,Q as e,w as s,j as s_Ih1wAD5M8iI};
