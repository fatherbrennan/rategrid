import{f as o,v as p,k as a,K as u,S as h,Y as b,h as f}from"./q-D1R7uPAU.js";var d=e=>({[u]:()=>(e=new i({baseUrl:`/${u}`,requestInit:{headers:{accept:h.JSON}}},e),{tv:()=>(e=new i({baseUrl:`/${b}`},e),{search:()=>(e=new i({baseUrl:`/${f}`},e),c.prepareRequest(e)),details:({id:t})=>(e=new i({baseUrl:`/${t}.json`},e),c.prepareRequest(e))})})}),q=class{static encodeSubstring(e){return encodeURIComponent(e)}static query(e){let t=Object.keys(e);if(t.length===0)return"";let n="?";for(let s=0;s<t.length;s++){let r=t[s],l=e[r];l!==void 0&&(n+=`${r}=${this.encodeSubstring(l)}&`)}return n.slice(0,-1)}},i=class{constructor(e,t){this.baseUrl="",this.params={},this.requestInit={},this.responseType="json";var n;t&&(this.baseUrl=t.baseUrl,this.params=t.params,this.requestInit=t.requestInit,this.responseType=t.responseType),e.baseUrl&&(this.baseUrl+=e.baseUrl),this.params=a(a({},this.params),e.params),this.requestInit=a(a({},this.requestInit),e.requestInit),this.responseType=(n=e.responseType)!=null?n:this.responseType}},c=class{static fetch(e,t){return o(this,null,function*(){let n=new AbortController,s={controller:n,data:null,exception:null,hasException:!0,isAborted:!1,isSuccess:!1};try{let r=yield fetch(e,a({signal:n.signal},t.requestInit)),l=yield r[t.responseType]();return s.isSuccess=r.ok,s.hasException=!1,s.data=l,s}catch(r){return s.isSuccess=!1,s.hasException=!0,s.exception=r,r instanceof Error&&r.name==="AbortError"&&(s.isAborted=!0),s}})}static prepareRequest(e){let t=`${e.baseUrl}${q.query(e.params)}`;return{url:t,request:e,fetch:()=>o(this,null,function*(){return this.fetch(t,e)})}}static get(){let e=new i({baseUrl:`https://raw.githubusercontent.com/fatherbrennan/api/refs/heads/${p.Default}`,requestInit:{method:"GET"}});return a({},d(e))}};export{c as p,q as u};
