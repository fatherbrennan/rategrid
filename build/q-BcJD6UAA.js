import{u as b,q as a,r as h,G as x,g as v,h as T,J as k,x as p,o as D,s as j,i as $,k as S,j as f,l as M,S as L,_hW as m}from"./q-WPPUufUs.js";import{_ as r}from"./q-D3NSFh3l.js";import{S as I,s as A}from"./q-Dd--VZEr.js";import{u as q}from"./q-CgExMhl9.js";function O(){const t=b(I);return{getNextEnabledItemIndex$:a(()=>r(()=>import("./q-B1wYpUFv.js"),[]),"s_HulBLYwRQeo",[t]),getPrevEnabledItemIndex$:a(()=>r(()=>import("./q-DEpf7aH3.js"),[]),"s_iYtaq0UGPzA",[t]),selectionManager$:a(()=>r(()=>import("./q-C0DKeCrL.js").then(o=>o.u),[]),"s_64b04K5joRE",[t])}}function re(){const t=b(I),e=h(""),i=h(void 0),n=h(void 0),{selectionManager$:o}=O(),l=x(a(()=>r(()=>import("./q-BxriaVhJ.js").then(s=>s.u),[]),"s_iqqifqztNRM",[t]));return{typeahead$:a(()=>r(()=>import("./q-BMnxWbHm.js"),[]),"s_VS1IlBZEDaM",[t,l,i,e,n,o])}}const V=()=>{const[t,e,i]=v();i.disabled||e.value!==null&&(t.highlightedIndexSig.value=e.value)},H=Object.freeze(Object.defineProperty({__proto__:null,_hW:m,s_zlxtj4v0xwM:V},Symbol.toStringTag,{value:"Module"})),z=()=>{const[t,e]=v(),i=e._index??null;return!e.disabled&&t.selectedIndexSetSig.value.has(i)},C=Object.freeze(Object.defineProperty({__proto__:null,s_mxwo0Tcxbw8:z},Symbol.toStringTag,{value:"Module"})),K=function({track:e,cleanup:i}){const[n,o,l,c,s,_]=v();e(()=>o.highlightedIndexSig.value),s.value===o.highlightedIndexSig.value&&(o.highlightedItemRef=c),!(!o.popoverRef.value||!(o.popoverRef.value.scrollHeight>o.popoverRef.value.clientHeight))&&(l.value!==void 0&&clearTimeout(l.value),l.value=setTimeout(()=>{if(_._index!==o.highlightedIndexSig.value)return;const g=new IntersectionObserver(n,{root:o.popoverRef.value,threshold:0});i(()=>g==null?void 0:g.disconnect()),c.value&&g.observe(c.value)},100),i(()=>{l.value!==void 0&&clearTimeout(l.value)}))},B=Object.freeze(Object.defineProperty({__proto__:null,_hW:m,s_ORFDmt5GHRY:K},Symbol.toStringTag,{value:"Module"})),G=()=>{var n;const[t,e,i]=v();if(!i.disabled)return t.highlightedIndexSig.value===i._index?((n=e.value)==null||n.focus({preventScroll:!0}),!0):!1},Q=Object.freeze(Object.defineProperty({__proto__:null,s_47t3eG4QhDM:G},Symbol.toStringTag,{value:"Module"})),ce=t=>{const e=T(t,["_index","disabled"]),i=b(I),n=q(t.ref),o=h(null),l=`${i.localId}-${t._index}`,c=h(),s=h(),_=O();k("typeaheadFn",a(()=>r(()=>Promise.resolve().then(()=>te),void 0),"s_xmJUc20Oo0s",[c]));const u=x(a(()=>r(()=>Promise.resolve().then(()=>C),void 0),"s_mxwo0Tcxbw8",[i,t])),g=x(a(()=>r(()=>Promise.resolve().then(()=>Q),void 0),"s_47t3eG4QhDM",[i,n,t]));p(a(()=>r(()=>Promise.resolve().then(()=>X),void 0),"s_By6Tah0SQeg",[o,t])),p(a(()=>r(()=>Promise.resolve().then(()=>B),void 0),"s_ORFDmt5GHRY",[a(()=>r(()=>Promise.resolve().then(()=>N),void 0),"s_3f3gOYt4b4E",[i,g,n]),i,s,n,o,t]));const w=a(()=>r(()=>Promise.resolve().then(()=>W),void 0),"s_c9mBDmoztrw",[i,o,t,_]),y=a(()=>r(()=>Promise.resolve().then(()=>H),void 0),"s_zlxtj4v0xwM",[i,o,t]),E={isSelectedSig:u},P=D(d=>{["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Home","End","PageDown","PageUp","Enter"," "].includes(d.key)&&d.preventDefault()},'e=>{const keys=["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Home","End","PageDown","PageUp","Enter"," "];if(keys.includes(e.key)){e.preventDefault();}}'),R=a(()=>r(()=>Promise.resolve().then(()=>F),void 0),"s_uGnaK4q9qV4",[i,_,c]);return j(A,E),$("div",{...e,id:l,ref:n,tabIndex:-1,get"aria-selected"(){return u.value},get"aria-disabled"(){return t.disabled===!0?"true":"false"},get"data-selected"(){return u.value?"":void 0},get"data-highlighted"(){return g.value?"":void 0},get"data-disabled"(){return t.disabled?"":void 0},"data-item":!0,role:"option",children:M(L,null,3,"lq_0"),onClick$:[w,t.onClick$],onKeyDown$:[P,R,t.onKeyDown$],onPointerOver$:[y,t.onPointerOver$]},{tabIndex:S,"aria-selected":f(d=>d.value,[u]),"aria-disabled":f(d=>d.disabled===!0?"true":"false",[t]),"data-selected":f(d=>d.value?"":void 0,[u]),"data-highlighted":f(d=>d.value?"":void 0,[g]),"data-disabled":f(d=>d.disabled?"":void 0,[t]),"data-item":S,role:S},0,"lq_1")},U=async t=>{var o,l,c;const[e,i,n]=v();switch((o=n.value)==null||o.call(n,t.key),e.isKeyboardFocusSig.value=!0,t.key){case"ArrowDown":e.isListboxOpenSig.value&&(e.highlightedIndexSig.value=await i.getNextEnabledItemIndex$(e.highlightedIndexSig.value),e.multiple&&t.shiftKey&&await i.selectionManager$(e.highlightedIndexSig.value,"toggle"));break;case"ArrowUp":e.isListboxOpenSig.value&&(e.highlightedIndexSig.value=await i.getPrevEnabledItemIndex$(e.highlightedIndexSig.value),e.multiple&&t.shiftKey&&await i.selectionManager$(e.highlightedIndexSig.value,"toggle"));break;case"Home":e.isListboxOpenSig.value&&(e.highlightedIndexSig.value=await i.getNextEnabledItemIndex$(-1));break;case"End":if(e.isListboxOpenSig.value){const s=await i.getPrevEnabledItemIndex$(e.itemsMapSig.value.size);e.highlightedIndexSig.value=s}break;case"Escape":(l=e.triggerRef.value)==null||l.focus(),e.isListboxOpenSig.value=!1;break;case"Tab":e.isListboxOpenSig.value=!1;break;case"Enter":case" ":if(e.isListboxOpenSig.value){const s=e.multiple?"toggle":"add";await i.selectionManager$(e.highlightedIndexSig.value,s),e.multiple||(c=e.triggerRef.value)==null||c.focus()}e.isListboxOpenSig.value=e.multiple?!0:!e.isListboxOpenSig.value;break;case"a":if(t.ctrlKey&&e.multiple)for(const[s,_]of e.itemsMapSig.value)_.disabled||await i.selectionManager$(s,"add");break}},F=Object.freeze(Object.defineProperty({__proto__:null,_hW:m,s_uGnaK4q9qV4:U},Symbol.toStringTag,{value:"Module"})),Y=async t=>{var l,c,s;const[e,i,n]=v(),[o]=t;if(i.value&&!o.isIntersecting){const _=(l=e.popoverRef.value)==null?void 0:l.getBoundingClientRect(),u=(c=n.value)==null?void 0:c.getBoundingClientRect();if(!_||!u||!e.isKeyboardFocusSig.value)return;const g=u.top-_.top-_.height/2+u.height/2;(s=e.popoverRef.value)==null||s.scrollBy({top:document.hasFocus()?g:void 0,...e.scrollOptions})}},N=Object.freeze(Object.defineProperty({__proto__:null,_hW:m,s_3f3gOYt4b4E:Y},Symbol.toStringTag,{value:"Module"})),J=async()=>{var o;const[t,e,i,n]=v();i.disabled||e.value===null||(t.multiple?(await n.selectionManager$(e.value,"toggle"),(o=t.triggerRef.value)==null||o.focus()):(await n.selectionManager$(e.value,"add"),t.isListboxOpenSig.value=!1))},W=Object.freeze(Object.defineProperty({__proto__:null,_hW:m,s_c9mBDmoztrw:J},Symbol.toStringTag,{value:"Module"})),Z=async function(){const[e,i]=v();if(i._index===void 0)throw Error("Qwik UI: Select component item cannot find its proper index.");e.value=i._index},X=Object.freeze(Object.defineProperty({__proto__:null,_hW:m,s_By6Tah0SQeg:Z},Symbol.toStringTag,{value:"Module"})),ee=t=>{const[e]=v();e.value=t.detail},te=Object.freeze(Object.defineProperty({__proto__:null,_hW:m,s_xmJUc20Oo0s:ee},Symbol.toStringTag,{value:"Module"}));export{m as _hW,re as a,K as b,G as c,ce as d,U as e,Y as f,J as g,Z as h,ee as i,z as s,V as s_zlxtj4v0xwM,O as u};
